PROGRAM -> CLASSES MODULES

CLASSES -> CLASS CLASSES
CLASSES -> ''

STRING -> WORDS

WORDS -> WORD WORDS
WORDS -> ''

WORD -> id
WORD -> LOFT.UTIL

CLASS -> ~ id MACROSTMT
MACROSTMT -> macros GROUP

GROUP -> { ASSIGN2
ASSIGN2 -> ITEMS }
ASSIGN2 -> LOFT.UTIL }

ITEMS -> ITEM ITEMS
ITEMS -> ''

ITEM -> & [ ASSIGN4

ASSIGN4 -> ~ id ]
ASSIGN4 -> . id ]
ITEM -> [ STRING ]

MODULES -> ._init STATEMENTLIST FUNCTIONS

FUNCTIONS -> FUNCTION FUNCTIONS

FUNCTION -> LABEL STATEMENTLIST

FUNCTIONS -> ''

LABEL -> . id

STATEMENTLIST -> STMT STATEMENTLIST
STATEMENTLIST -> ''

STMT -> inst_code ARGUMENTS

ARGUMENTS -> ''
ARGUMENTS -> REGISTER ARGUMENTS

REGISTER -> # id
REGISTER -> regs
REGISTER -> ( ASSIGN

ASSIGN -> ! [ . id ] )
ASSIGN -> regs )


REGISTER -> [ STRING ]
REGISTER -> & [ ASSIGN3

ASSIGN3 -> ._init ]
ASSIGN3 -> . id ]